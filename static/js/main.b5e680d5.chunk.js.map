{"version":3,"sources":["components/Searchbar/Searchbar.js","services/pixabay.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["SearchBar","onSubmit","useState","searchValue","setSearchValue","className","e","preventDefault","type","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","PixabayFetch","base_url","api_key","this","_searchQuery","_page","params","searchQuery","page","url","axios","get","then","result","data","hits","catch","err","console","log","ImageGalleryItem","onClick","obj","id","src","webformatURL","alt","tags","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeydown","removeEventListener","code","createPortal","event","target","newPixabayFetch","ImageGallery","searchResults","setSearchResults","isLoading","setIsLoading","showModal","setShowModal","currentImg","setCurrentImage","resetPage","searchPhotos","results","alert","toggleModal","onClickImg","length","map","item","color","height","width","timeout","prevState","scrollTo","top","documentElement","scrollHeight","behavior","largeImageURL","App","Searchbar","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b5e680d5.chunk.js","sourcesContent":["import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\n const SearchBar = ({onSubmit}) => {\n  const[searchValue, setSearchValue] = useState('');\n  // const[searchResults,setSearchResults] = useState([]);\n\n  const handleSearchChange =(e)=>{\n    setSearchValue(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(searchValue);\n    setSearchValue('');\n  }\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          value={searchValue}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleSearchChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchBar","import axios from 'axios';\nexport class PixabayFetch {\n  constructor(base_url, api_key) {\n    this.base_url = base_url;\n    this.api_key = api_key;\n    this._searchQuery = '';\n    this._page = 1;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  searchPhotos() {\n    let params = `?q=${this.searchQuery}&page=${this.page}&key=${this.api_key}&image_type=photo&orientation=horizontal&per_page=12`;\n    let url = `${this.base_url}${params}`;\n    return axios\n      .get(url)\n      .then(result => {\n        return result.data.hits;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n}\n","import PropTypes from 'prop-types';\n\nexport function ImageGalleryItem({ onClick, obj }) {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        id={obj.id}\n        src={obj.webformatURL}\n        alt={obj.tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => {\n          onClick(obj);\n        }}\n      />\n    </li>\n  );\n}\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func,\n  obj: PropTypes.object,\n};\n","import PropTypes from 'prop-types';\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nconst modalRoot = document.querySelector('#modalRoot');\n\nexport default function Modal ({onClose, src, alt}){\nuseEffect(() => {\n  window.addEventListener('keydown', handleKeydown);\n  return () => window.removeEventListener('keydown', handleKeydown);\n}, []\n);\nconst handleKeydown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\nconst handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n    onClose();\n    }\n  };\nreturn createPortal(\n      <div className=\"Overlay\" onClick={handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  src: PropTypes.string,\n  alt: PropTypes.string,\n};\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { PixabayFetch } from '../../services/pixabay';\nimport { ImageGalleryItem } from './ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport Loader from 'react-loader-spinner';\nimport { useState } from 'react/cjs/react.development';\n\nconst base_url = 'https://pixabay.com/api/';\nconst api_key = '23237261-94e774dc3474a501c481a5592';\n\nconst newPixabayFetch = new PixabayFetch(base_url, api_key);\n\nexport function ImageGallery ({searchValue}){\nconst [searchResults, setSearchResults] =useState([]);\nconst [isLoading,setIsLoading]=useState(false);\nconst [showModal, setShowModal]=useState(false);\nconst [currentImg, setCurrentImage] = useState('');\n\nuseEffect(()=>{\n  if(!searchValue){\n    return;\n  };\n  setIsLoading(true);\n  newPixabayFetch.resetPage();\n      newPixabayFetch.searchQuery = searchValue;\n      newPixabayFetch\n        .searchPhotos()\n        .then(results => {\n          setSearchResults(results);\n          setIsLoading(false);\n        })\n        .catch(err => {\n          alert('Error! Try again!');\n          console.log(err);\n        });\n      },[searchValue]);\n\n      const handleClick =()=>{\n        setIsLoading(true);\n      newPixabayFetch.page = 1;\n    newPixabayFetch\n      .searchPhotos()\n      .then(results => {\n        setIsLoading(false);\n        setSearchResults(prevState=>[ ...prevState,...results]);\n    \n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(err => {\n        alert('Error! Try again!');\n        console.log(err);\n      });}\n\n  const toggleModal = () => {\n    setShowModal(!showModal)\n  };\n\n  const onClickImg = (obj) => {\n    // console.log(obj)\n    setCurrentImage(obj);\n    toggleModal();\n  };\n  \n    return (\n      <>\n        <ul className=\"ImageGallery\">\n          {searchResults.length > 0 &&\n            searchResults.map(item => {\n              return (\n                <ImageGalleryItem\n                  key={item.id}\n                  obj={item}\n                  onClick={onClickImg}\n                />\n              );\n            })}\n        </ul>\n\n        {isLoading && (\n          <Loader\n            type=\"Grid\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n\n        {searchResults.length > 0 && <Button onClick={handleClick} />}\n\n        {showModal && (\n          <Modal\n            onClose={toggleModal}\n            src={currentImg.largeImageURL}\n            alt={currentImg.tags}\n          ></Modal>\n        )}\n      </>\n    );\n  \n        }\nImageGallery.propTypes = {\n  searchValue: PropTypes.string,\n};\n","import './App.css';\nimport React, { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\n\nfunction App (){\n  const [searchValue, setSearchValue]=useState('');\n   \n  // const handleFormSubmit = (searchValue) =>{\n  //   setSearchValue (searchValue)\n  // }\n\n  return(\n    <div className=\"App\">\n          <Searchbar onSubmit={setSearchValue}></Searchbar>\n          <ImageGallery searchValue={searchValue}></ImageGallery>\n    </div>\n  )\n\n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}