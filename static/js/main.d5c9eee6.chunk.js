(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,c){},29:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(8),o=c.n(r),s=(c(28),c(4)),i=(c(29),c(1)),u=function(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),r=a[0],o=a[1];return Object(i.jsx)("header",{className:"Searchbar",children:Object(i.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(i.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(i.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(i.jsx)("input",{className:"SearchForm-input",type:"text",value:r,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},l=c(11),h=c(20),j=c(21),b=c(22),m=c.n(b),f=function(){function e(t,c){Object(h.a)(this,e),this.base_url=t,this.api_key=c,this._searchQuery="",this._page=1}return Object(j.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"resetPage",value:function(){return this._page=1}},{key:"searchPhotos",value:function(){var e="?q=".concat(this.searchQuery,"&page=").concat(this.page,"&key=").concat(this.api_key,"&image_type=photo&orientation=horizontal&per_page=12"),t="".concat(this.base_url).concat(e);return m.a.get(t).then((function(e){return e.data.hits})).catch((function(e){console.log(e)}))}}]),e}();function g(e){var t=e.onClick,c=e.obj;return Object(i.jsx)("li",{className:"ImageGalleryItem",children:Object(i.jsx)("img",{id:c.id,src:c.webformatURL,alt:c.tags,className:"ImageGalleryItem-image",onClick:function(){t(c)}})})}function d(e){var t=e.onClick;return Object(i.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var O=document.querySelector("#modalRoot");function p(e){var t=e.onClose,c=e.src,a=e.alt;Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}),[]);var o=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(i.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(i.jsx)("div",{className:"Modal",children:Object(i.jsx)("img",{src:c,alt:a})})}),O)}var y=c(23),v=c.n(y),x=new f("https://pixabay.com/api/","23237261-94e774dc3474a501c481a5592");function k(e){var t=e.searchValue,c=Object(n.useState)([]),a=Object(s.a)(c,2),r=a[0],o=a[1],u=Object(n.useState)(!1),h=Object(s.a)(u,2),j=h[0],b=h[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),O=f[0],y=f[1],k=Object(n.useState)(""),S=Object(s.a)(k,2),w=S[0],_=S[1];Object(n.useEffect)((function(){t&&(b(!0),x.resetPage(),x.searchQuery=t,x.searchPhotos().then((function(e){o(e),b(!1)})).catch((function(e){alert("Error! Try again!"),console.log(e)})))}),[t]);var C=function(){y(!O)},N=function(e){_(e),C()};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("ul",{className:"ImageGallery",children:r.length>0&&r.map((function(e){return Object(i.jsx)(g,{obj:e,onClick:N},e.id)}))}),j&&Object(i.jsx)(v.a,{type:"Grid",color:"#00BFFF",height:100,width:100,timeout:3e3}),r.length>0&&Object(i.jsx)(d,{onClick:function(){b(!0),x.page=1,x.searchPhotos().then((function(e){b(!1),o((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){alert("Error! Try again!"),console.log(e)}))}}),O&&Object(i.jsx)(p,{onClose:C,src:w.largeImageURL,alt:w.tags})]})}var S=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(u,{onSubmit:a}),Object(i.jsx)(k,{searchValue:c})]})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.d5c9eee6.chunk.js.map